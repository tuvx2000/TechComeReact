{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\2020-2021\\\\II\\\\aws\\\\project\\\\TechComeReact\\\\e-commerce-app-react-native\\\\src\\\\screens\\\\ProductScreen\\\\components\\\\ProductBody.js\";\n\nimport React, { useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport Animated, { Value } from 'react-native-reanimated';\nimport Colors from \"../../../utils/Colors\";\nimport HorizontalItem from \"./HorizontalItem\";\nimport CustomText from \"../../../components/UI/CustomText\";\nimport { Header } from \"./Header\";\nimport PropTypes from 'prop-types';\nITEM_HEIGHT = 100;\nvar AnimatedSectionList = Animated.createAnimatedComponent(SectionList);\nexport var ProductBody = function ProductBody(_ref) {\n  var navigation = _ref.navigation,\n      productsFilter = _ref.productsFilter,\n      searchFilterFunction = _ref.searchFilterFunction;\n  var DATA = [];\n  var bracelets = productsFilter.filter(function (bracelet) {\n    return bracelet.type === 'bracelet';\n  });\n  var rings = productsFilter.filter(function (ring) {\n    return ring.type === 'ring';\n  });\n  var stones = productsFilter.filter(function (stone) {\n    return stone.type === 'stone';\n  });\n  DATA.push({\n    title: 'Vòng Chuối Ngọc',\n    data: bracelets\n  });\n  DATA.push({\n    title: 'Nhẫn Ruby',\n    data: rings\n  });\n  DATA.push({\n    title: 'Đá Quý',\n    data: stones\n  });\n  var scrollY = new Value(0);\n  var sectionListRef = useRef(null);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableWithoutFeedback, {\n    onPress: Keyboard.dismiss,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    searchFilterFunction: searchFilterFunction,\n    scrollY: scrollY,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), productsFilter.length === 0 ? React.createElement(CustomText, {\n    style: {\n      textAlign: 'center',\n      marginTop: 110\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Kh\\xF4ng t\\xECm th\\u1EA5y s\\u1EA3n ph\\u1EA9m\") : React.createElement(AnimatedSectionList, {\n    sections: DATA,\n    keyExtractor: function keyExtractor(item) {\n      return item._id;\n    },\n    ref: sectionListRef,\n    renderSectionHeader: function renderSectionHeader(_ref2) {\n      var title = _ref2.section.title;\n      return React.createElement(View, {\n        style: styles.header,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }\n      }, React.createElement(CustomText, {\n        style: styles.title,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }\n      }, title));\n    },\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return React.createElement(HorizontalItem, {\n        item: item,\n        navigation: navigation,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      });\n    },\n    stickySectionHeadersEnabled: false,\n    scrollEventThrottle: 1,\n    onScroll: Animated.event([{\n      nativeEvent: {\n        contentOffset: {\n          y: scrollY\n        }\n      }\n    }], {\n      useNativeDriver: true\n    }),\n    contentContainerStyle: {\n      marginTop: 90,\n      paddingBottom: 100\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }));\n};\nProductBody.propTypes = {\n  navigation: PropTypes.object.isRequired,\n  productsFilter: PropTypes.array.isRequired\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  tabBar: {\n    height: 40,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  header: {\n    height: 40,\n    paddingHorizontal: 20,\n    justifyContent: 'center',\n    backgroundColor: Colors.white\n  },\n  title: {\n    fontSize: 16,\n    fontWeight: '500',\n    color: Colors.lighter_green\n  }\n});","map":{"version":3,"sources":["D:/2020-2021/II/aws/project/TechComeReact/e-commerce-app-react-native/src/screens/ProductScreen/components/ProductBody.js"],"names":["React","useRef","Animated","Value","Colors","HorizontalItem","CustomText","Header","PropTypes","ITEM_HEIGHT","AnimatedSectionList","createAnimatedComponent","SectionList","ProductBody","navigation","productsFilter","searchFilterFunction","DATA","bracelets","filter","bracelet","type","rings","ring","stones","stone","push","title","data","scrollY","sectionListRef","styles","container","Keyboard","dismiss","length","textAlign","marginTop","item","_id","section","header","event","nativeEvent","contentOffset","y","useNativeDriver","paddingBottom","propTypes","object","isRequired","array","StyleSheet","create","flex","tabBar","height","justifyContent","alignItems","paddingHorizontal","backgroundColor","white","fontSize","fontWeight","color","lighter_green"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  TouchableWithoutFeedback,\r\n  Keyboard,\r\n  SectionList,\r\n} from 'react-native';\r\nimport Animated, { Value } from 'react-native-reanimated';\r\n//Color\r\nimport Colors from '../../../utils/Colors';\r\nimport HorizontalItem from './HorizontalItem';\r\nimport CustomText from '../../../components/UI/CustomText';\r\nimport { Header } from './Header';\r\n//PropTypes check\r\nimport PropTypes from 'prop-types';\r\n\r\nITEM_HEIGHT = 100;\r\n\r\nconst AnimatedSectionList = Animated.createAnimatedComponent(SectionList);\r\n\r\nexport const ProductBody = ({\r\n  navigation,\r\n  productsFilter,\r\n  searchFilterFunction,\r\n}) => {\r\n  const DATA = [];\r\n  const bracelets = productsFilter.filter(\r\n    (bracelet) => bracelet.type === 'bracelet',\r\n  );\r\n  const rings = productsFilter.filter((ring) => ring.type === 'ring');\r\n  const stones = productsFilter.filter((stone) => stone.type === 'stone');\r\n  DATA.push({ title: 'Vòng Chuối Ngọc', data: bracelets });\r\n  DATA.push({ title: 'Nhẫn Ruby', data: rings });\r\n  DATA.push({ title: 'Đá Quý', data: stones });\r\n  const scrollY = new Value(0);\r\n  const sectionListRef = useRef(null);\r\n  // const scrollToSection = (index) => {\r\n  //   sectionListRef.current.scrollToLocation({\r\n  //     animated: true,\r\n  //     sectionIndex: index,\r\n  //     itemIndex: 0,\r\n  //     viewPosition: 0,\r\n  //   });\r\n  // };\r\n  // const [sectionIndex, setIndex] = useState(0);\r\n  // const HandleScrollY = (event) => {\r\n  //   const y = event.nativeEvent.contentOffset.y;\r\n  //   const sectionIndex =\r\n  //     y > bracelets.length * ITEM_HEIGHT &&\r\n  //     y < (bracelets.length + rings.length) * ITEM_HEIGHT\r\n  //       ? 1\r\n  //       : y > (bracelets.length + rings.length) * ITEM_HEIGHT\r\n  //       ? 2\r\n  //       : 0;\r\n  //   setIndex(sectionIndex);\r\n  // };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <TouchableWithoutFeedback onPress={Keyboard.dismiss}>\r\n        <Header\r\n          navigation={navigation}\r\n          searchFilterFunction={searchFilterFunction}\r\n          scrollY={scrollY}\r\n        />\r\n      </TouchableWithoutFeedback>\r\n      {productsFilter.length === 0 ? (\r\n        <CustomText style={{ textAlign: 'center', marginTop: 110 }}>\r\n          Không tìm thấy sản phẩm\r\n        </CustomText>\r\n      ) : (\r\n        <AnimatedSectionList\r\n          sections={DATA} // REQUIRED: SECTIONLIST DATA\r\n          keyExtractor={(item) => item._id}\r\n          ref={sectionListRef}\r\n          renderSectionHeader={({ section: { title } }) => (\r\n            <View style={styles.header}>\r\n              <CustomText style={styles.title}>{title}</CustomText>\r\n            </View>\r\n          )}\r\n          renderItem={({ item }) => (\r\n            <HorizontalItem item={item} navigation={navigation} />\r\n          )}\r\n          stickySectionHeadersEnabled={false}\r\n          scrollEventThrottle={1}\r\n          onScroll={Animated.event(\r\n            [{ nativeEvent: { contentOffset: { y: scrollY } } }],\r\n            { useNativeDriver: true },\r\n            // { listener: HandleScrollY, useNativeDriver: false }\r\n          )}\r\n          contentContainerStyle={{ marginTop: 90, paddingBottom: 100 }}\r\n        />\r\n      )}\r\n      {/* <View style={styles.tabBar}>\r\n        <FlatList\r\n          data={sectionTitle}\r\n          keyExtractor={(item, index) => item + index}\r\n          showsHorizontalScrollIndicator={false}\r\n          horizontal\r\n          renderItem={({ item, index }) => {\r\n            const color = index === sectionIndex ? \"#7dd170\" : Colors.white;\r\n            const textColor =\r\n              index === sectionIndex ? Colors.white : Colors.black;\r\n            console.log(index);\r\n            return (\r\n              <TouchableOpacity\r\n                style={{\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                  width: 120,\r\n                  backgroundColor: color,\r\n                  borderRadius: 5,\r\n                }}\r\n                onPress={() => {\r\n                  scrollToSection(index);\r\n                }}\r\n              >\r\n                <CustomText style={{ fontSize: 16, color: textColor }}>\r\n                  {item}\r\n                </CustomText>\r\n              </TouchableOpacity>\r\n            );\r\n          }}\r\n        />\r\n      </View> */}\r\n    </View>\r\n  );\r\n};\r\n\r\nProductBody.propTypes = {\r\n  navigation: PropTypes.object.isRequired,\r\n  productsFilter: PropTypes.array.isRequired,\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  tabBar: {\r\n    height: 40,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  header: {\r\n    height: 40,\r\n    paddingHorizontal: 20,\r\n    justifyContent: 'center',\r\n    backgroundColor: Colors.white,\r\n  },\r\n  title: {\r\n    fontSize: 16,\r\n    fontWeight: '500',\r\n    color: Colors.lighter_green,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\2020-2021\\\\II\\\\aws\\\\project\\\\TechComeReact\\\\e-commerce-app-react-native\\\\src\\\\screens\\\\OrderScreen\\\\OrderScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchOrder } from \"../../reducers\";\nimport { Header, OrderBody } from \"./components\";\nimport SkeletonLoadingCart from \"../../components/Loaders/SkeletonLoadingCart\";\n\nvar _Dimensions$get = Dimensions.get(\"window\"),\n    height = _Dimensions$get.height;\n\nexport var OrderScreen = function OrderScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isRefreshing = _useState2[0],\n      setIsRefreshing = _useState2[1];\n\n  var user = useSelector(function (state) {\n    return state.auth.user;\n  });\n  var orders = useSelector(function (state) {\n    return state.order.orders;\n  });\n  var dispatch = useDispatch();\n  var loadOrders = useCallback(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsRefreshing(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(dispatch(fetchOrder()));\n\n          case 4:\n            _context.next = 9;\n            break;\n\n          case 6:\n            _context.prev = 6;\n            _context.t0 = _context[\"catch\"](1);\n            alert(_context.t0.message);\n\n          case 9:\n            setIsRefreshing(false);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 6]], Promise);\n  }, [dispatch, setIsRefreshing]);\n  useEffect(function () {\n    loadOrders();\n  }, [user.userid]);\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    navigation: navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }), orders.isLoading ? React.createElement(View, {\n    style: styles.centerLoader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, React.createElement(SkeletonLoadingCart, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  })) : React.createElement(OrderBody, {\n    user: user,\n    orders: orders,\n    isRefreshing: isRefreshing,\n    loadOrders: loadOrders,\n    navigation: navigation,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  centerLoader: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"100%\",\n    width: \"100%\",\n    position: \"absolute\",\n    top: Platform.OS === \"android\" ? 70 : height < 668 ? 70 : 90\n  }\n});","map":{"version":3,"sources":["D:/2020-2021/II/aws/project/TechComeReact/e-commerce-app-react-native/src/screens/OrderScreen/OrderScreen.js"],"names":["React","useState","useEffect","useCallback","useSelector","useDispatch","fetchOrder","Header","OrderBody","SkeletonLoadingCart","Dimensions","get","height","OrderScreen","navigation","isRefreshing","setIsRefreshing","user","state","auth","orders","order","dispatch","loadOrders","alert","message","userid","styles","container","isLoading","centerLoader","StyleSheet","create","flex","alignItems","justifyContent","width","position","top","Platform","OS"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;;;;;AAGA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SAASC,UAAT;AACA,SAASC,MAAT,EAAiBC,SAAjB;AACA,OAAOC,mBAAP;;AAEA,sBAAmBC,UAAU,CAACC,GAAX,CAAe,QAAf,CAAnB;AAAA,IAAQC,MAAR,mBAAQA,MAAR;;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAoB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;;AAC7C,kBAAwCb,QAAQ,CAAC,KAAD,CAAhD;AAAA;AAAA,MAAOc,YAAP;AAAA,MAAqBC,eAArB;;AACA,MAAMC,IAAI,GAAGb,WAAW,CAAC,UAACc,KAAD;AAAA,WAAWA,KAAK,CAACC,IAAN,CAAWF,IAAtB;AAAA,GAAD,CAAxB;AACA,MAAMG,MAAM,GAAGhB,WAAW,CAAC,UAACc,KAAD;AAAA,WAAWA,KAAK,CAACG,KAAN,CAAYD,MAAvB;AAAA,GAAD,CAA1B;AACA,MAAME,QAAQ,GAAGjB,WAAW,EAA5B;AACA,MAAMkB,UAAU,GAAGpB,WAAW,CAAC;AAAA;AAAA;AAAA;AAAA;AAC7Ba,YAAAA,eAAe,CAAC,IAAD,CAAf;AAD6B;AAAA;AAAA,6CAGrBM,QAAQ,CAAChB,UAAU,EAAX,CAHa;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAK3BkB,YAAAA,KAAK,CAAC,YAAIC,OAAL,CAAL;;AAL2B;AAO7BT,YAAAA,eAAe,CAAC,KAAD,CAAf;;AAP6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,EAQ3B,CAACM,QAAD,EAAWN,eAAX,CAR2B,CAA9B;AASAd,EAAAA,SAAS,CAAC,YAAM;AACdqB,IAAAA,UAAU;AACX,GAFQ,EAEN,CAACN,IAAI,CAACS,MAAN,CAFM,CAAT;AAIA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAQ,IAAA,UAAU,EAAEd,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGM,MAAM,CAACS,SAAP,GACC,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEF,MAAM,CAACG,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADD,GAKC,oBAAC,SAAD;AACE,IAAA,IAAI,EAAEb,IADR;AAEE,IAAA,MAAM,EAAEG,MAFV;AAGE,IAAA,YAAY,EAAEL,YAHhB;AAIE,IAAA,UAAU,EAAEQ,UAJd;AAKE,IAAA,UAAU,EAAET,UALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPJ,CADF;AAkBD,CApCM;AAsCP,IAAMa,MAAM,GAAGI,UAAU,CAACC,MAAX,CAAkB;AAC/BJ,EAAAA,SAAS,EAAE;AACTK,IAAAA,IAAI,EAAE;AADG,GADoB;AAI/BH,EAAAA,YAAY,EAAE;AACZI,IAAAA,UAAU,EAAE,QADA;AAEZC,IAAAA,cAAc,EAAE,QAFJ;AAGZvB,IAAAA,MAAM,EAAE,MAHI;AAIZwB,IAAAA,KAAK,EAAE,MAJK;AAKZC,IAAAA,QAAQ,EAAE,UALE;AAMZC,IAAAA,GAAG,EAAEC,QAAQ,CAACC,EAAT,KAAgB,SAAhB,GAA4B,EAA5B,GAAiC5B,MAAM,GAAG,GAAT,GAAe,EAAf,GAAoB;AAN9C;AAJiB,CAAlB,CAAf","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { View, StyleSheet, Dimensions, Platform } from \"react-native\";\r\n//Redux\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n//Action\r\nimport { fetchOrder } from \"../../reducers\";\r\nimport { Header, OrderBody } from \"./components\";\r\nimport SkeletonLoadingCart from \"../../components/Loaders/SkeletonLoadingCart\";\r\n\r\nconst { height } = Dimensions.get(\"window\");\r\n\r\nexport const OrderScreen = ({ navigation }) => {\r\n  const [isRefreshing, setIsRefreshing] = useState(false);\r\n  const user = useSelector((state) => state.auth.user);\r\n  const orders = useSelector((state) => state.order.orders);\r\n  const dispatch = useDispatch();\r\n  const loadOrders = useCallback(async () => {\r\n    setIsRefreshing(true);\r\n    try {\r\n      await dispatch(fetchOrder());\r\n    } catch (err) {\r\n      alert(err.message);\r\n    }\r\n    setIsRefreshing(false);\r\n  }, [dispatch, setIsRefreshing]);\r\n  useEffect(() => {\r\n    loadOrders();\r\n  }, [user.userid]);\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Header navigation={navigation} />\r\n      {orders.isLoading ? (\r\n        <View style={styles.centerLoader}>\r\n          <SkeletonLoadingCart />\r\n        </View>\r\n      ) : (\r\n        <OrderBody\r\n          user={user}\r\n          orders={orders}\r\n          isRefreshing={isRefreshing}\r\n          loadOrders={loadOrders}\r\n          navigation={navigation}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  centerLoader: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    position: \"absolute\",\r\n    top: Platform.OS === \"android\" ? 70 : height < 668 ? 70 : 90,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}